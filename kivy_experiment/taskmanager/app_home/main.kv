#: import utils kivy.utils
#: import icon kivy.garden.iconfonts.icon
#: import mtx kivy.metrics
#: import WipeTransition kivy.uix.screenmanager.WipeTransition


<MainWindow>:
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: [1,1,1,1]
        Rectangle:
            pos: self.pos
            size: self.size
    
    ScreenManager:
        id: scrn_mngr
        Screen:
            name: 'scrn_signin'
            BoxLayout:
                orientation: 'vertical' 
                # margin: 10
                spacing: 15 
                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex("#FFC444")
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Widget:
                    size_hint_y: .25
                Label:
                    text: "Task List"
                    font_size: mtx.sp('32')
             
                    bold: True
                    color: utils.get_color_from_hex("#36290D")
                    size_hint_y: .1
                Image:
                    source: 'app/assets/undraw_login.png'
                    size: self.texture_size
                    size_hint_y: .2
                BoxLayout:
                    size_hint_y: .45
                    orientation: 'vertical'
                    padding: [mtx.dp(20), 0]
                    FLatInput:
                        id: si_username
                        hint_text: 'username'
                        size_hint_y: .1
                    Widget:
                        size_hint_y: .01
                    FLatInput:
                        id: si_password
                        hint_text: 'password'
                        size_hint_y: .1
                        password: True
                    Widget:
                        size_hint_y: .05
                    FLatButton:
                        text: 'Login'
                        bold: True
                        size_hint_y: .1
                        canvas.before:
                            Color:
                                rgb: utils.get_color_from_hex("#282C34")
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [8]

                    FLatButton:
                        text: 'New here? Sign up'
                        size_hint_y: .1
                        on_release: 
                            scrn_mngr.current = "scrn_signup"
                            scrn_mngr.transition.direction = "left"
                    Widget:
                        size_hint_y: .3
                             
        Screen:
            name: 'scrn_signup'
            BoxLayout:
                orientation: 'vertical'
                spacing: 15 
                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex("#282C34") 
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Widget:
                    size_hint_y: .25
                Label:
                    text: "Welcome On Board!"
                    font_size: mtx.sp('32')
                    bold: True
                    color: utils.get_color_from_hex("#ffffff")
                    size_hint_y: .15

                Image:
                    source: 'app/assets/undraw_well_done.png'
                    size: self.texture_size
                    size_hint_y: .25

                BoxLayout:
                    size_hint_y: .45
                    orientation: 'vertical'
                    padding: [mtx.dp(20), 0]
                    FLatInput:
                        id: si_username
                        hint_text: 'username'
                        size_hint_y: .1
                    Widget:
                        size_hint_y: .01
                    FLatInput:
                        id: si_password
                        hint_text: 'password'
                        size_hint_y: .1
                        password: True
                    Widget:
                        size_hint_y: .05
                    FLatButton:
                        text: 'Sign up'
                        bold: True
                        color: utils.get_color_from_hex("#282C34")
                        size_hint_y: .1
                        canvas.before:
                            Color:
                                rgb: utils.get_color_from_hex("#FFC444")
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [8]

                    FLatButton:
                        text: 'Already have an account? Login'
                        size_hint_y: .1
                        on_release: 
                            scrn_mngr.current = "scrn_signin"
                            scrn_mngr.transition.direction = "right"
                    Widget:
                        size_hint_y: .3
        Screen:
            name: 'scrn_main'
            BoxLayout:
                orientation: 'vertical'
                Button:
                    text:'Go To Today'
                    on_release: scrn_mngr.current = 'scrn_today'

        Screen:
            name: 'scrn_today'
            BoxLayout:
                orientation: 'vertical'
                Button:
                    text:'Go To Signin'
                    on_release: scrn_mngr.current = 'scrn_signin'
                                               
<FLatButton@Button>:
    background_normal: ''
    background_color: [0, 0, 0, 0]

<FLatInput@TextInput>:
    background_active: ''
    background_normal: ''
    background_color: [1,1,1,0]
    canvas.before:
        Color:
            rgb: utils.get_color_from_hex("#ffffff")
        Rectangle:
            pos: self.pos
            size: [self.size[0], 1]